#!/bin/bash

# Function to start Grafana and Prometheus containers
start_containers() {
    echo "Starting Grafana and Prometheus containers..."

    # Start Prometheus
    docker run -d \
        --name prometheus \
        -p 9090:9090 \
        -v $(pwd)/prometheus.yml:/etc/prometheus/prometheus.yml \
        prom/prometheus

    # Start Grafana
    docker run -d \
        --name grafana \
        -p 3000:3000 \
        grafana/grafana

    echo "Grafana and Prometheus are running."
}

# Function to stop Grafana and Prometheus containers
stop_containers() {
    echo "Stopping Grafana and Prometheus containers..."

    docker stop grafana prometheus

    echo "Grafana and Prometheus containers have been stopped."
}

# Function to delete Grafana and Prometheus containers
delete_containers() {
    echo "Deleting Grafana and Prometheus containers..."

    docker rm grafana prometheus

    echo "Grafana and Prometheus containers have been deleted."
}

# Main menu for the script
echo "Grafana and Prometheus Docker Control Script"
echo "Select an option:"
echo "1) Start Grafana and Prometheus"
echo "2) Stop Grafana and Prometheus"
echo "3) Delete Grafana and Prometheus containers"
read -p "Option: " option

case $option in
    1)
        start_containers
        ;;
    2)
        stop_containers
        ;;
    3)
        delete_containers
        ;;
    *)
        echo "Invalid option. Exiting."
        exit 1
        ;;
esac
